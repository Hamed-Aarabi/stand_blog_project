{% load static %}
<header class="">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            {% if request.resolver_match.url_name == 'home' %}
                <a class="navbar-brand" href="{% url 'home:home' %}"><h2>Stand Blog<em>.</em></h2></a>
            {% elif request.resolver_match.url_name == 'about' %}
                <a class="navbar-brand" href="{% url 'about:about' %}"><h2>Stand Blog<em>.</em></h2></a>
            {% elif request.resolver_match.url_name == 'blog' %}
                <a class="navbar-brand" href="{% url 'blog:blog' %}"><h2>Stand Blog<em>.</em></h2></a>
            {% elif request.resolver_match.url_name == 'contact' %}
                <a class="navbar-brand" href="{% url 'contact:contact' %}"><h2>Stand Blog<em>.</em></h2></a>
            {% else %}
                <a class="navbar-brand" href="{% url 'home:home' %}"><h2>Stand Blog<em>.</em></h2></a>
            {% endif %}

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                    aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item {% if request.resolver_match.url_name == 'home' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'home:home' %}">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>

                    <li class="nav-item {% if request.resolver_match.url_name == 'about' %} active {% endif %}">

                        <a class="nav-link" href="{% url 'about:about' %}">About Us</a>
                    </li>

                    <li class="nav-item {% if request.resolver_match.url_name == 'blog' %} active {% endif %}">

                        <a class="nav-link" href="{% url 'blog:blog' %}">Blogs</a>
                    </li>

                    <li class="nav-item {% if request.resolver_match.url_name == 'contact' %} active {% endif %}">

                        <a class="nav-link" href="{% url 'contact:contact' %}">Contact Us</a>
                    </li>
                    <li class="nav-item">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Accounts
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                {% if request.user.is_authenticated %}
                                    {% if request.user.first_name and request.user.last_name %}
                                        <a class="dropdown-item"
                                           href="">{{ user.get_full_name }}</a>
                                        <a class="dropdown-item" href="{% url 'accounts:user_edit' request.user.id %}">Edit
                                            Profile</a>
                                        <a class="dropdown-item" href="{% url 'accounts:email' request.user.id %}">Edit
                                            Email</a>
                                        <a class="dropdown-item" href="{% url 'blog:user_articles' %}">Yor
                                            Articles</a>
                                        <a class="dropdown-item" href="{% url 'contact:users_messages' %}">Your
                                            Messages</a>
                                        <a class="dropdown-item" href="{% url 'blog:article_add' %}">Add Article</a>
                                        <a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a>
                                    {% else %}
                                         <a class="dropdown-item"
                                           href="">{{ user.username }}</a>
                                        <a class="dropdown-item" href="{% url 'accounts:user_edit' request.user.id %}">Edit
                                            Profile</a>
                                        <a class="dropdown-item" href="{% url 'accounts:email' request.user.id %}">Edit
                                            Email</a>
                                        <a class="dropdown-item" href="{% url 'blog:user_articles' %}">Yor
                                            Articles</a>
                                        <a class="dropdown-item" href="{% url 'contact:users_messages' %}">Your
                                            Messages</a>
                                        <a class="dropdown-item" href="{% url 'blog:article_add' %}">Add Article</a>
                                        <a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a>
                                    {% endif %}
                                {% else %}
                                    <a class="dropdown-item" href="{% url 'accounts:login' %}">Login</a>
                                    <a class="dropdown-item" href="{% url 'accounts:register' %}">Register</a>
                                {% endif %}
                            </div>

                            {% if request.user.is_authenticated %}
                                {% if user.profile.image %}
                                    <img src="{{ user.profile.image.url }}" height="40px" width="40px"
                                         style="border-radius: 100%" alt="">
                                {% else %}
                                    <img src="{% static 'images/user.png' %}" height="40px" width="40px"
                                         style="border-radius: 100%" alt="">
                                {% endif %}
                            {% endif %}
                        </div>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
</header>